/*___________________________________________________

             Nextflow DSL2 Main Config

       Copyright of Jackson Laboratories 2022
_____________________________________________________*/

params {
    help = null
    genome = null
    names = null
    fastq1 = null
    fastq2 = null
    bwa_index = null
    bam = null
    workflow = "pacbio"
    pubdir = "../${workflow}"
    config = "${projectDir}/config/${workflow}.config"

    igenomes_base = 's3://ngi-igenomes/igenomes/'
    igenomes_ignore = false    
    genomes_base = null // Disabled by default
    save_reference = null // Built references not saved

    // make a comment for log
    comment = ''
}

profiles {
    sumner       { includeConfig "${projectDir}/config/profiles/sumner.config" }
    elion        { includeConfig "${projectDir}/config/profiles/elion.config" }
}

includeConfig params.config

// Load genomes.config or igenomes.config
if (!params.igenomes_ignore) {
  includeConfig 'config/igenomes.config'
} else {
  includeConfig 'config/genomes.config'
}

report {
    enabled = true
    file = "${params.pubdir}/mmrSVD_${params.workflow}_report.html"
}